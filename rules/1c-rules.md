## Правила написания кода на 1С

### Комментарии
- Избегай комментариев, которые просто повторяют очевидное из самого кода. Предпочитай самодокументируемый код.
- Комментарии допускаются только тогда, когда они действительно добавляют ценность: объясняют, почему что-то сделано (мотивацию), описывают нетривиальный алгоритм или идею / ограничения / побочные эффекты, помечают технический долг или дают важный контекст, который невозможно ясно выразить кодом.

### Качество кода
- После любого редактирования кода всегда выполняй внутреннее код-ревью изменений (стиль, читаемость, корректность, граничные случаи, безопасность, конкурентность и соответствие лучшим практикам). Если находятся проблемы — исправляй их и повторяй цикл «правка → ревью → исправление» столько раз, сколько нужно, пока код не станет чистым, корректным и стабильным.

- Проверяй написанный код на конкурентность, и необходимость/корректность использования блокировок/транзакций (всегда учитывай есть ли внешняя транзакция, например транзакция записи объекта)
- Назначение областей в модулях: `ПрограммныйИнтерфейс` - public, `СлужебныйПрограммныйИнтерфейс` - private, `СлужебныеПроцедурыИФункции` - protected
- При написании кода проверяй в общих модулях и модулях менеджеров, есть ли экспортные методы, которые ты мог бы использовать для текущей задачи, чтобы не дублировать логику
- Если ты пишешь запрос, проверяй реквизиты метаданных (есть ли они, имена, типы и т.д.), которые используешь в запросе 
- Используй следующее форматирование для запросов (текст запроса на новой строке, на том же уровне, что и `Запрос = Новый Запрос;`):
```bsl
Запрос = Новый Запрос;
Запрос.Текст =
    "текст запроса";
```
- Не используй `Сообщить()`, вместо него используй `ОбщегоНазначения.СообщитьПользователю` (если код выполняется на сервере) или `ОбщегоНазначенияКлиент.СообщитьПользователю` (если код выполняется на клиенте)
- Используй ограничение строки в 120 символов, если строку возможно корректно перенести
- При доработках в модуле формы, старайся минимизировать количество переходов с клиента на сервер
- При доработках в модуле формы, у методов могут быть следующие директивы компиляции: `&НаКлиенте`, `&НаСервере` (с контекстом формы), `&НаСервереБезКонтекста` (без контекста формы, эта директива предпочтительнее, т.к. не передает контекст формы на сервер), `&НаКлиентеНаСервереБезКонтекста`
- При доработках в модуле формы, вместо `ОписаниеОповещения`, по возможности (для методов, для который есть аналогичный метод `Асинх`) используй `Асинх`
- Если ты пишешь запрос и получаешь его результат, всегда используй промежуточную переменную `РезультатЗапроса = Запрос.Выполнить()`, не нужно делать `Запрос.Выполнить().Выгрузить()`/`Выбрать()`
- Если ты пишешь запрос, всегда давай псевдонимы полям через `КАК`, например `Контрагенты.ИНН КАК ИНН`
- По возможности не используй запросы внутри цикла, используй пакетные запросы и временные таблицы
- При выполнении повторяющихся вычислений в цикле (поиск по справочнику, получение реквизитов объектов, вычисления по одному алгоритму) используй кеширование через Соответствие для оптимизации производительности
- Не получай данные реквизитов из ссылки через точку, т.к. это запрашивает весь объект из базы данных. Например: `Контрагент.ИНН` - некорректно (если `Контрагент` это ссылка), `ОбщегоНазначения.ЗначениеРеквизитаОбъекта(Контрагент, "ИНН")` - корректно. Имей ввиду, что есть методы `ОбщегоНазначения.ЗначениеРеквизитаОбъекта`, `ОбщегоНазначения.ЗначениеРеквизитовОбъекта`, `ОбщегоНазначения.ЗначениеРеквизитаОбъектов`
- Не используй тернарные операторы `ИНН = ?(Контрагент.ИНН <> "", Контрагент.ИНН, "Не указан")`
- Не используй венгерскую нотацию для переменных. Например `МассивКонтрагентов` - некорректно, `Контрагенты` - корректно
- Не используй в именах переменных имена из глобального контекста 1С (Документы, Справочники, Пользователи, Регистры, Метаданные, Константы и другие. Проверяй есть ли такое имя в глобальном контексте). Это создаёт коллизию имён и затрудняет чтение кода.