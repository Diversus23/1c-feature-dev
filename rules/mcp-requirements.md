## MCP-возможности для разработки 1С

Этот файл определяет контракт MCP-зависимостей для всех агентов. Агенты ссылаются на **категории возможностей**, а не на конкретные имена tools — это обеспечивает совместимость при смене или обновлении MCP-серверов.

### Протокол проверки доступности

Перед началом работы с кодом 1С агент должен убедиться, что обязательные MCP-серверы доступны. Для проверки достаточно вызвать любой базовый tool сервера. Если вызов завершается ошибкой — сервер недоступен.

### Обязательные возможности

Без этих возможностей агент **обязан остановить работу** и уведомить пользователя.

| Категория | Назначение | Примеры использования |
|-----------|-----------|----------------------|
| Поиск метаданных | Поиск объектов конфигурации, модулей, реквизитов | Найти общий модуль по имени, получить список реквизитов справочника, найти использования объекта |
| Проверка синтаксиса | Валидация кода 1С на корректность | Проверить написанный код на синтаксические ошибки |
| Контекст платформы | Типы, методы, свойства глобального контекста BSL | Проверить существование метода, узнать параметры функции платформы, проверить имя на конфликт с глобальным контекстом |

### Правила для агентов

1. **Не привязывайся к конкретным именам tools** — описывай намерение («найти объект метаданных по имени»), а не вызов (`get_metadata_objects`). MCP-серверы могут обновляться, переименовывать tools или заменяться другими серверами.

2. **Описывай цель, ищи подходящий tool** — если нужно «проверить синтаксис кода», ищи среди доступных MCP-tools тот, который решает эту задачу. Не предполагай фиксированное имя.

3. **Обязательный = стоп при отсутствии** — если обязательная возможность недоступна, уведоми пользователя и останови работу. Не пытайся угадывать синтаксис, метаданные или свойства платформы.

4. **Расширяемый = адаптируйся** — если в окружении появился новый MCP-tool, подходящий для задачи, используй его. Не ограничивайся заранее известным набором.

5. **Сообщай о недоступности** — если обязательный MCP недоступен, укажи пользователю какой именно сервер нужен и дай ссылку на установку (см. секцию «Известные MCP-серверы»).

### Известные MCP-серверы

| Сервер | Категории | Ссылка |
|--------|-----------|--------|
| EDT MCP Server | Поиск метаданных, Проверка синтаксиса | [DitriXNew/EDT-MCP](https://github.com/DitriXNew/EDT-MCP) |
| mcp-bsl-platform-context | Контекст платформы | [alkoleft/mcp-bsl-platform-context](https://github.com/alkoleft/mcp-bsl-platform-context) |
