---
name: 1c-docs
description: Этот скилл следует использовать, когда пользователь просит "создать документацию 1C", "задокументировать код 1C", "написать документацию", "сгенерировать документацию для AI", "создать пользовательское руководство" или нуждается в генерации технической или пользовательской документации для кода 1C
---

## Обзор

Автономный скилл для генерации документации кода 1C. Работает независимо от основного воркфлоу `1c-feature-dev` — можно запустить на любом модуле, объекте метаданных или доработке.

## Типы документации

1. **Техническая (для AI/нейросетей)** — структурированная документация: архитектурные решения, потоки данных, API-контракты, ответственности модулей
2. **Пользовательская** — руководства для конечных пользователей: пошаговые инструкции, описание интерфейса, сценарии

## Процесс

### Шаг 1: Определение конфигурации

1. Прочитай `CLAUDE.md` целевого проекта (корень проекта)
2. Найди секцию `## Documentation` (или `## Документация`)
3. Извлеки параметры:
   - `documentation-types` — какие типы генерировать (по умолчанию: `[technical, user]`)
   - `documentation-technical-path` — путь для технической документации (по умолчанию: `docs/technical/`)
   - `documentation-user-path` — путь для пользовательской документации (по умолчанию: `docs/user/`)
4. Если секция отсутствует — спроси пользователя напрямую:
   - «Какие типы документации нужны: техническая (для AI), пользовательская или обе?»
   - «Куда сохранить техническую документацию? (по умолчанию: `docs/technical/`)»
   - «Куда сохранить пользовательскую документацию? (по умолчанию: `docs/user/`)»

### Шаг 2: Определение области документирования

Начальный запрос: $ARGUMENTS

1. Если пользователь указал конкретные файлы/модули/объекты — используй их
2. Если указана задача из `.tasks/` — прочитай её артефакты (`01-requirements.md` через `07-summary.md`)
3. Если запрос общий («задокументируй модуль X») — уточни:
   - Какой объект метаданных или модуль
   - Нужна документация на всё или на конкретные процедуры
   - Есть ли контекст (зачем, для кого)

### Шаг 3: Исследование кода

1. Запусти агента `1c-code-explorer` с фокусом на область документирования
   - Передай: список файлов/модулей для анализа
   - Фокус: структура, API, зависимости, потоки данных
2. Прочитай ключевые файлы, возвращённые агентом

### Шаг 4: Генерация документации

1. Запусти агента `1c-code-documenter`:
   - Передай: результаты исследования, список файлов, тип(ы) документации, пути для сохранения
   - Если нужны оба типа — агент генерирует оба в одном запуске
2. Проверь результат: файлы созданы, содержание соответствует области

### Шаг 5: Валидация и сохранение

1. Представь сгенерированную документацию пользователю
2. Спроси: «Документация готова. Нужны ли правки?»
3. При необходимости — запусти агента повторно с уточнениями
4. Подтверди сохранение файлов:
   - Техническая: `{documentation-technical-path}/{имя}.md`
   - Пользовательская: `{documentation-user-path}/{имя}.md`
